"use strict";(self.webpackChunkto_do_list=self.webpackChunkto_do_list||[]).push([[32],{32:(e,a,s)=>{s.r(a),s.d(a,{default:()=>v});var l=s(43),t=s(216),i=s(837),n=s(603),r=s(820),d=s(699),u=s(863),o=s(962),c=s(805),p=s(291),h=(s(497),s(579));const v=()=>{const[e,a]=(0,l.useState)(null),{isLoading:s,error:v,sendRequest:m,errorHandler:A}=(0,p.x)(),[y,x]=(0,c.m)({email:{value:"",isValid:!1}},!1),N=(0,t.Zp)();return(0,h.jsxs)("div",{className:"auth-container",children:[(0,h.jsx)(d.A,{error:v,onClear:A}),(0,h.jsx)("div",{className:"auth-content",children:(0,h.jsxs)(i.A,{className:"auth",children:[s&&(0,h.jsx)(u.A,{}),(0,h.jsx)("h2",{className:"auth-header",children:"Forgot Password"}),e?(0,h.jsx)("p",{style:{color:"green",margin:"1rem 0"},children:e}):(0,h.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await m("/api/users/forgot-password","POST",JSON.stringify({email:y.inputs.email.value}),{"Content-Type":"application/json"}),a("If an account with that email exists, a password reset link has been sent.")}catch(s){}},children:[(0,h.jsx)(r.A,{id:"email",element:"input",label:"E-mail",type:"email",errorText:"Please enter a valid email address.",validators:[(0,o.i$)()],onInput:x,placeholder:"Enter your email address"}),(0,h.jsx)(n.A,{type:"submit",className:"auth__button",disabled:!y.isValid,children:"Send Reset Link"})]}),(0,h.jsx)(n.A,{className:"switch__button",onClick:()=>N("/auth"),children:"Back to Login"})]})})]})}},497:()=>{},805:(e,a,s)=>{s.d(a,{m:()=>n});var l=s(555),t=s(43);const i=(e,a)=>{switch(a.type){case"INPUT_CHANGE":let s=!0;for(const l in e.inputs)e.inputs[l]&&(s=l===a.inputId?s&&a.isValid:s&&e.inputs[l].isValid);return(0,l.A)((0,l.A)({},e),{},{inputs:(0,l.A)((0,l.A)({},e.inputs),{},{[a.inputId]:{value:a.value,isValid:a.isValid}}),isValid:s});case"SET_DATA":return{inputs:a.inputs,isValid:a.formIsValid};default:return e}},n=(e,a)=>{const[s,l]=(0,t.useReducer)(i,{inputs:e,isValid:a});return[s,(0,t.useCallback)(((e,a,s)=>{l({type:"INPUT_CHANGE",value:a,isValid:s,inputId:e})}),[]),(0,t.useCallback)(((e,a)=>{l({type:"SET_DATA",inputs:e,formIsValid:a})}),[])]}},820:(e,a,s)=>{s.d(a,{A:()=>d});var l=s(555),t=s(43),i=s(962),n=s(579);const r=(e,a)=>{switch(a.type){case"CHANGE":return(0,l.A)((0,l.A)({},e),{},{value:a.val,isValid:(0,i.tf)(a.val,a.isValid)});case"TOUCH":return(0,l.A)((0,l.A)({},e),{},{isTouch:!0});case"RADIO_CHANGE":return(0,l.A)((0,l.A)({},e),{},{value:a.val,isValid:(0,i.tf)(a.val,(0,i.B_)())});default:return e}},d=e=>{const[a,s]=(0,t.useReducer)(r,{value:e.initialValue||"",isTouch:!1,isValid:e.initialValid||!1}),{id:l,onInput:i}=e,{value:d,isValid:u}=a;(0,t.useEffect)((()=>{"function"===typeof i&&i(l,d,u)}),[l,d,u,i]);const o=a=>{s({type:"CHANGE",val:a.target.value,validators:e.validators})},c=()=>{s({type:"TOUCH"})},p=a=>a.map((a=>(0,n.jsxs)("label",{className:a.className,children:[(0,n.jsx)("input",{type:"radio",name:a.id,value:a.value,checked:d===a.value,onChange:()=>{return e=a.value,void s({type:"RADIO_CHANGE",value:e});var e},onBlur:c}),(0,n.jsx)("span",{className:e.span,children:a.label})]},a.value))),h="input"===e.element?(0,n.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:o,onBlur:c,value:a.value}):"radio"===e.element?(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsx)("label",{className:"radio-inputs__title",children:e.label}),(0,n.jsx)("hr",{}),()=>p(e.radioOptions)]}):(0,n.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:o,onBlur:c,value:a.value});return(0,n.jsxs)("div",{className:"form-control ".concat(!a.isValid&&a.isTouch&&"form-control--invalid"),children:["radio"!==e.element&&(0,n.jsx)("label",{htmlFor:e.id,children:e.label}),h,!a.isValid&&a.isTouch&&(0,n.jsx)("p",{children:e.errorText})]})}},837:(e,a,s)=>{s.d(a,{A:()=>t});s(43);var l=s(579);const t=e=>(0,l.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})},962:(e,a,s)=>{s.d(a,{B_:()=>r,Ik:()=>d,i$:()=>u,tf:()=>o});const l="REQUIRE",t="MINLENGTH",i="MAXLENGTH",n="EMAIL",r=()=>({type:l}),d=e=>({type:t,val:e}),u=()=>({type:n}),o=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=!0;for(const r of a)r.type===l&&(s=s&&e.trim().length>0),r.type===t&&(s=s&&e.trim().length>=r.val),r.type===i&&(s=s&&e.trim().length<=r.val),"MIN"===r.type&&(s=s&&+e>=r.val),"MAX"===r.type&&(s=s&&+e<=r.val),r.type===n&&(s=s&&/^\S+@\S+\.\S+$/.test(e));return s}}}]);
//# sourceMappingURL=32.4d986425.chunk.js.map