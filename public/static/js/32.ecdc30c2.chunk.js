"use strict";(self.webpackChunkto_do_list=self.webpackChunkto_do_list||[]).push([[32],{32:(e,a,t)=>{t.r(a),t.d(a,{default:()=>v});var s=t(43),l=t(216),i=t(837),n=t(603),r=t(820),d=t(699),o=t(863),u=t(962),c=t(805),p=t(291),h=(t(497),t(886)),m=t(579);const v=()=>{const e=(0,s.useContext)(h.c),[a,t]=(0,s.useState)(null),{isLoading:v,error:A,sendRequest:y,errorHandler:x}=(0,p.x)(),[N,f]=(0,c.m)({email:{value:"",isValid:!1}},!1),j=(0,l.Zp)();return(0,m.jsxs)("div",{className:"auth-container",children:[(0,m.jsx)(d.A,{error:A,onClear:x}),(0,m.jsx)("div",{className:"auth-content",children:(0,m.jsxs)(i.A,{className:"auth",children:[v&&(0,m.jsx)(o.A,{}),(0,m.jsx)("h2",{className:"auth-header",children:"Forgot Password"}),a?(0,m.jsx)("p",{style:{color:"green",margin:"1rem 0"},children:a}):(0,m.jsxs)("form",{onSubmit:async a=>{a.preventDefault();try{(new FormData).append("email",N.inputs.email.value),await y("https://task-manager-wsm4.onrender.com/api/users/forgot-password","POST",JSON.stringify({email:N.inputs.email.value}),{Authorization:"Bearer "+e.token,"Content-Type":"application/json"}),t("If an account with that email exists, a password reset link has been sent.")}catch(s){}},children:[(0,m.jsx)(r.A,{id:"email",element:"input",label:"E-mail",type:"email",errorText:"Please enter a valid email address.",validators:[(0,u.i$)()],onInput:f,placeholder:"Enter your email address"}),(0,m.jsx)(n.A,{type:"submit",className:"auth__button",disabled:!N.isValid,children:"Send Reset Link"})]}),(0,m.jsx)(n.A,{className:"switch__button",onClick:()=>j("/auth"),children:"Back to Login"})]})})]})}},497:()=>{},805:(e,a,t)=>{t.d(a,{m:()=>n});var s=t(555),l=t(43);const i=(e,a)=>{switch(a.type){case"INPUT_CHANGE":let t=!0;for(const s in e.inputs)e.inputs[s]&&(t=s===a.inputId?t&&a.isValid:t&&e.inputs[s].isValid);return(0,s.A)((0,s.A)({},e),{},{inputs:(0,s.A)((0,s.A)({},e.inputs),{},{[a.inputId]:{value:a.value,isValid:a.isValid}}),isValid:t});case"SET_DATA":return{inputs:a.inputs,isValid:a.formIsValid};default:return e}},n=(e,a)=>{const[t,s]=(0,l.useReducer)(i,{inputs:e,isValid:a});return[t,(0,l.useCallback)(((e,a,t)=>{s({type:"INPUT_CHANGE",value:a,isValid:t,inputId:e})}),[]),(0,l.useCallback)(((e,a)=>{s({type:"SET_DATA",inputs:e,formIsValid:a})}),[])]}},820:(e,a,t)=>{t.d(a,{A:()=>d});var s=t(555),l=t(43),i=t(962),n=t(579);const r=(e,a)=>{switch(a.type){case"CHANGE":return(0,s.A)((0,s.A)({},e),{},{value:a.val,isValid:(0,i.tf)(a.val,a.isValid)});case"TOUCH":return(0,s.A)((0,s.A)({},e),{},{isTouch:!0});case"RADIO_CHANGE":return(0,s.A)((0,s.A)({},e),{},{value:a.val,isValid:(0,i.tf)(a.val,(0,i.B_)())});default:return e}},d=e=>{const[a,t]=(0,l.useReducer)(r,{value:e.initialValue||"",isTouch:!1,isValid:e.initialValid||!1}),{id:s,onInput:i}=e,{value:d,isValid:o}=a;(0,l.useEffect)((()=>{"function"===typeof i&&i(s,d,o)}),[s,d,o,i]);const u=a=>{t({type:"CHANGE",val:a.target.value,validators:e.validators})},c=()=>{t({type:"TOUCH"})},p=a=>a.map((a=>(0,n.jsxs)("label",{className:a.className,children:[(0,n.jsx)("input",{type:"radio",name:a.id,value:a.value,checked:d===a.value,onChange:()=>{return e=a.value,void t({type:"RADIO_CHANGE",value:e});var e},onBlur:c}),(0,n.jsx)("span",{className:e.span,children:a.label})]},a.value))),h="input"===e.element?(0,n.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:u,onBlur:c,value:a.value}):"radio"===e.element?(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsx)("label",{className:"radio-inputs__title",children:e.label}),(0,n.jsx)("hr",{}),()=>p(e.radioOptions)]}):(0,n.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:u,onBlur:c,value:a.value});return(0,n.jsxs)("div",{className:"form-control ".concat(!a.isValid&&a.isTouch&&"form-control--invalid"),children:["radio"!==e.element&&(0,n.jsx)("label",{htmlFor:e.id,children:e.label}),h,!a.isValid&&a.isTouch&&(0,n.jsx)("p",{children:e.errorText})]})}},837:(e,a,t)=>{t.d(a,{A:()=>l});t(43);var s=t(579);const l=e=>(0,s.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})},962:(e,a,t)=>{t.d(a,{B_:()=>r,Ik:()=>d,i$:()=>o,tf:()=>u});const s="REQUIRE",l="MINLENGTH",i="MAXLENGTH",n="EMAIL",r=()=>({type:s}),d=e=>({type:l,val:e}),o=()=>({type:n}),u=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=!0;for(const r of a)r.type===s&&(t=t&&e.trim().length>0),r.type===l&&(t=t&&e.trim().length>=r.val),r.type===i&&(t=t&&e.trim().length<=r.val),"MIN"===r.type&&(t=t&&+e>=r.val),"MAX"===r.type&&(t=t&&+e<=r.val),r.type===n&&(t=t&&/^\S+@\S+\.\S+$/.test(e));return t}}}]);
//# sourceMappingURL=32.ecdc30c2.chunk.js.map