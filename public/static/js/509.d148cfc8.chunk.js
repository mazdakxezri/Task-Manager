"use strict";(self.webpackChunkto_do_list=self.webpackChunkto_do_list||[]).push([[509],{509:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var t=s(555),l=s(43),i=s(216),n=s(204),r=s(837),o=s(603),c=s(820),d=s(579);const u=e=>{let{id:a,center:s,onInput:t,errorText:i,className:n}=e;const[r,c]=(0,l.useState)(),[u,p]=(0,l.useState)(),[m,h]=(0,l.useState)(),v=(0,l.useRef)();(0,l.useEffect)((()=>{if(!r)return;const e=new FileReader;e.onload=()=>{p(e.result)},e.readAsDataURL(r)}),[r]);return(0,d.jsxs)("div",{className:"form-control__image",children:[(0,d.jsx)("input",{id:a,ref:v,type:"file",style:{display:"none"},accept:".jpg, .png, .jpeg",onChange:e=>{let s,l=m;e.target.files&&1===e.target.files.length?(s=e.target.files[0],c(s),h(!0),l=!0):(h(!1),l=!1),t(a,s,l)}}),(0,d.jsxs)("div",{className:"image-upload ".concat(s&&"center"),children:[(0,d.jsxs)("div",{className:"image-upload__preview",children:[u&&(0,d.jsx)("img",{src:u,alt:"Preview"}),!u&&(0,d.jsx)("p",{children:"Please pick an image"})]}),(0,d.jsx)(o.A,{className:"form-control__button",type:"button",onClick:()=>{v.current.click()},children:"PICK IMAGE"})]}),!m&&(0,d.jsx)("p",{children:i})]})};var p=s(699),m=s(863),h=s(962),v=s(805),x=s(291),j=s(886);const y=()=>{const e=(0,l.useContext)(j.c),[a,s]=(0,l.useState)(!1),[y,g]=(0,l.useState)(!1),{isLoading:A,error:f,sendRequest:N,errorHandler:C}=(0,x.x)(),[w,I,T]=(0,v.m)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),V=(0,i.Zp)();return(0,d.jsxs)("div",{className:"auth-container",children:[(0,d.jsx)(p.A,{error:f,onClear:C}),(0,d.jsxs)("div",{className:"auth-content",children:[(0,d.jsxs)("div",{className:"auth-notes",children:[(0,d.jsx)("h2",{children:a?"Welcome Back!":"Join Our Community"}),(0,d.jsx)("h3",{children:a?"Login to Your Account":"Create Your Account"}),(0,d.jsx)("p",{children:a?"Access your tasks, track your progress, and stay organized with our powerful task management tools.":"Start your journey to better productivity. Create an account to access all features and begin organizing your tasks effectively."}),(0,d.jsxs)("div",{className:"auth-features",children:[(0,d.jsx)("h4",{children:"Key Features:"}),(0,d.jsxs)("ul",{children:[(0,d.jsxs)("li",{children:[(0,d.jsx)(n.w8j,{})," Smart Task Management"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)(n.YXz,{})," Team Collaboration"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)(n.YYR,{})," Progress Tracking"]}),(0,d.jsxs)("li",{children:[(0,d.jsx)(n.A7C,{})," Achievement System"]})]})]})]}),(0,d.jsxs)(r.A,{className:"auth",children:[A&&(0,d.jsx)(m.A,{}),(0,d.jsx)("h2",{className:"auth-header",children:a?"Sign In":"Create Account"}),(0,d.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),a)try{const a=await N("http://localhost:5001/api/users/login","POST",JSON.stringify({email:w.inputs.email.value,password:w.inputs.password.value}),{"Content-Type":"application/json"});e.login(a.userId,a.token),V("/")}catch(f){}else try{const a=new FormData;a.append("email",w.inputs.email.value),a.append("name",w.inputs.name.value),a.append("password",w.inputs.password.value),a.append("image",w.inputs.image.value);const s=await N("http://localhost:5001/api/users/signup","POST",a);e.login(s.userId,s.token),V("/")}catch(f){}},children:[!a&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(c.A,{id:"name",element:"input",label:"Name",type:"text",errorText:"Please enter a name.",validators:[(0,h.B_)()],onInput:I,placeholder:"Enter your full name"}),(0,d.jsx)(u,{center:!0,id:"image",onInput:I,errorText:"Please provide an image"})]}),(0,d.jsx)(c.A,{id:"email",element:"input",label:"E-mail",type:"email",errorText:"Please enter a valid email address.",validators:[(0,h.i$)()],onInput:I,placeholder:"Enter your email address"}),(0,d.jsxs)("div",{className:"password-input-container",children:[(0,d.jsx)(c.A,{id:"password",element:"input",label:"Password",type:y?"text":"password",errorText:"Please enter a valid password, at least 6 characters.",validators:[(0,h.Ik)(6)],onInput:I,placeholder:"Enter your password"}),(0,d.jsx)("button",{type:"button",className:"password-toggle-auth",onClick:()=>{g(!y)},children:y?(0,d.jsx)(n.mx3,{}):(0,d.jsx)(n.Ny1,{})})]}),(0,d.jsx)(o.A,{type:"submit",className:"auth__button",disabled:!w.isValid,children:a?"Sign In":"Create Account"})]}),(0,d.jsx)(o.A,{className:"switch__button",onClick:()=>{a?T((0,t.A)((0,t.A)({},w.inputs),{},{name:{value:"",isValid:!1},image:{value:null,isValid:!1}}),!1):T((0,t.A)((0,t.A)({},w.inputs),{},{name:void 0,image:void 0}),w.inputs.email.isValid&&w.inputs.password.isValid),s((e=>!e))},children:a?"Need an account? Sign Up":"Already have an account? Sign In"})]})]})]})}},805:(e,a,s)=>{s.d(a,{m:()=>n});var t=s(555),l=s(43);const i=(e,a)=>{switch(a.type){case"INPUT_CHANGE":let s=!0;for(const t in e.inputs)e.inputs[t]&&(s=t===a.inputId?s&&a.isValid:s&&e.inputs[t].isValid);return(0,t.A)((0,t.A)({},e),{},{inputs:(0,t.A)((0,t.A)({},e.inputs),{},{[a.inputId]:{value:a.value,isValid:a.isValid}}),isValid:s});case"SET_DATA":return{inputs:a.inputs,isValid:a.formIsValid};default:return e}},n=(e,a)=>{const[s,t]=(0,l.useReducer)(i,{inputs:e,isValid:a});return[s,(0,l.useCallback)(((e,a,s)=>{t({type:"INPUT_CHANGE",value:a,isValid:s,inputId:e})}),[]),(0,l.useCallback)(((e,a)=>{t({type:"SET_DATA",inputs:e,formIsValid:a})}),[])]}},820:(e,a,s)=>{s.d(a,{A:()=>o});var t=s(555),l=s(43),i=s(962),n=s(579);const r=(e,a)=>{switch(a.type){case"CHANGE":return(0,t.A)((0,t.A)({},e),{},{value:a.val,isValid:(0,i.tf)(a.val,a.isValid)});case"TOUCH":return(0,t.A)((0,t.A)({},e),{},{isTouch:!0});case"RADIO_CHANGE":return(0,t.A)((0,t.A)({},e),{},{value:a.val,isValid:(0,i.tf)(a.val,(0,i.B_)())});default:return e}},o=e=>{const[a,s]=(0,l.useReducer)(r,{value:e.initialValue||"",isTouch:!1,isValid:e.initialValid||!1}),{id:t,onInput:i}=e,{value:o,isValid:c}=a;(0,l.useEffect)((()=>{"function"===typeof i&&i(t,o,c)}),[t,o,c,i]);const d=a=>{s({type:"CHANGE",val:a.target.value,validators:e.validators})},u=()=>{s({type:"TOUCH"})},p=a=>a.map((a=>(0,n.jsxs)("label",{className:a.className,children:[(0,n.jsx)("input",{type:"radio",name:a.id,value:a.value,checked:o===a.value,onChange:()=>{return e=a.value,void s({type:"RADIO_CHANGE",value:e});var e},onBlur:u}),(0,n.jsx)("span",{className:e.span,children:a.label})]},a.value))),m="input"===e.element?(0,n.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:d,onBlur:u,value:a.value}):"radio"===e.element?(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsx)("label",{className:"radio-inputs__title",children:e.label}),(0,n.jsx)("hr",{}),()=>p(e.radioOptions)]}):(0,n.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:d,onBlur:u,value:a.value});return(0,n.jsxs)("div",{className:"form-control ".concat(!a.isValid&&a.isTouch&&"form-control--invalid"),children:["radio"!==e.element&&(0,n.jsx)("label",{htmlFor:e.id,children:e.label}),m,!a.isValid&&a.isTouch&&(0,n.jsx)("p",{children:e.errorText})]})}},837:(e,a,s)=>{s.d(a,{A:()=>l});s(43);var t=s(579);const l=e=>(0,t.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})},962:(e,a,s)=>{s.d(a,{B_:()=>r,Ik:()=>o,i$:()=>c,tf:()=>d});const t="REQUIRE",l="MINLENGTH",i="MAXLENGTH",n="EMAIL",r=()=>({type:t}),o=e=>({type:l,val:e}),c=()=>({type:n}),d=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=!0;for(const r of a)r.type===t&&(s=s&&e.trim().length>0),r.type===l&&(s=s&&e.trim().length>=r.val),r.type===i&&(s=s&&e.trim().length<=r.val),"MIN"===r.type&&(s=s&&+e>=r.val),"MAX"===r.type&&(s=s&&+e<=r.val),r.type===n&&(s=s&&/^\S+@\S+\.\S+$/.test(e));return s}}}]);
//# sourceMappingURL=509.d148cfc8.chunk.js.map