"use strict";(self.webpackChunkto_do_list=self.webpackChunkto_do_list||[]).push([[34],{34:(e,s,a)=>{a.r(s),a.d(s,{default:()=>N});var i=a(43),t=a(216),l=a(204),n=a(820),r=a(603),d=a(837),o=a(962),c=a(805),u=a(579);const m=e=>{let{inputOptions:s,optionsName:a,onClick:i}=e;return(0,u.jsxs)("div",{className:"radio-inputs",children:[(0,u.jsx)("label",{className:"radio-inputs__title",children:a}),(0,u.jsx)("hr",{}),s.map((e=>(0,u.jsxs)("label",{className:"radio",children:[(0,u.jsx)("input",{type:"radio",name:e.name,value:e.value,onChange:s=>i(e.value,!0)}),(0,u.jsx)("span",{className:"radio-span ".concat(e.className),children:e.label})]},e.id)))]})},p=e=>{let{users:s,selectedUsers:a,onSelectUsers:t,label:n,multiple:r=!1}=e;const[d,o]=(0,i.useState)(!1),[c,m]=(0,i.useState)(""),p=(0,i.useRef)(null),h=(0,i.useRef)(null);(0,i.useEffect)((()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&o(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)}),[]);const v=s.filter((e=>!a.some((s=>s.id===e.id))&&(e.name.toLowerCase().includes(c.toLowerCase())||e.email.toLowerCase().includes(c.toLowerCase()))));return(0,u.jsxs)("div",{className:"user-selector-container",children:[n&&(0,u.jsx)("label",{children:n}),(0,u.jsxs)("div",{className:"user-selector-input",children:[(0,u.jsxs)("div",{className:"input-wrapper",children:[(0,u.jsx)(l.KSO,{className:"search-icon"}),(0,u.jsx)("input",{ref:h,type:"text",placeholder:"Search users...",value:c,onChange:e=>m(e.target.value),onFocus:()=>o(!0)}),c&&(0,u.jsx)("button",{className:"clear-button",onClick:()=>m(""),children:(0,u.jsx)(l.QCr,{})})]}),d&&(0,u.jsx)("div",{className:"user-selector-dropdown",ref:p,children:v.length>0?v.map((e=>(0,u.jsxs)("div",{className:"user-option",onClick:()=>(e=>{t(r?[...a,e]:[e]),m(""),o(!1)})(e),children:[(0,u.jsx)("img",{src:e.image||"/images/default-avatar.png",alt:e.name,className:"user-avatar"}),(0,u.jsxs)("div",{className:"user-info",children:[(0,u.jsx)("div",{className:"user-name",children:e.name}),(0,u.jsx)("div",{className:"user-email",children:e.email})]})]},e.id))):(0,u.jsx)("div",{className:"no-users-message",children:c?"No users found":"Start typing to search users"})})]}),a.length>0&&(0,u.jsx)("div",{className:"selected-users",children:a.map((e=>(0,u.jsxs)("div",{className:"selected-user",children:[(0,u.jsx)("img",{src:e.image||"/images/default-avatar.png",alt:e.name,className:"user-avatar"}),(0,u.jsx)("span",{children:e.name}),(0,u.jsx)("button",{onClick:()=>{return s=e.id,void t(a.filter((e=>e.id!==s)));var s},children:(0,u.jsx)(l.QCr,{})})]},e.id)))})]})};var h=a(886),v=a(291),x=a(699),j=a(863);const N=()=>{const e=(0,i.useContext)(h.c),[s,a]=(0,i.useState)("member"),[N,g]=(0,i.useState)(""),[y,f]=(0,i.useState)([]),[A,b]=(0,i.useState)([]),k=(0,t.Zp)(),[C,T]=(0,c.m)({title:{value:"",isValid:!1},description:{value:"",isValid:!1},dueDate:{value:"",isValid:!1},timeline:{value:"",isValid:!1},notes:{value:"",isValid:!1},priority:{value:"medium",isValid:!0},role:{value:"member",isValid:!0}},!1),{isLoading:w,error:V,sendRequest:I,errorHandler:S}=(0,v.x)();(0,i.useEffect)((()=>{(async()=>{try{const s=await I("".concat("http://localhost:5001/api","/users"),"GET",null,{Authorization:"Bearer "+e.token});b(s.users)}catch(s){}})()}),[I,e.token]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x.A,{error:V,onClear:S}),(0,u.jsx)("div",{className:"newtask-container",children:(0,u.jsxs)("div",{className:"newtask-content",children:[(0,u.jsxs)("div",{className:"task-guidance",children:[(0,u.jsx)("h2",{children:"Create New Task"}),(0,u.jsx)("p",{className:"guidance-subtitle",children:"Organize your work efficiently"}),(0,u.jsxs)("div",{className:"guidance-cards",children:[(0,u.jsxs)("div",{className:"guidance-card",children:[(0,u.jsx)(l.w8j,{className:"guidance-icon"}),(0,u.jsx)("h3",{children:"Task Details"}),(0,u.jsx)("p",{children:"Provide a clear title and detailed description to help everyone understand the task requirements."})]}),(0,u.jsxs)("div",{className:"guidance-card",children:[(0,u.jsx)(l.bfZ,{className:"guidance-icon"}),(0,u.jsx)("h3",{children:"Timeline"}),(0,u.jsx)("p",{children:"Set realistic deadlines and timelines to keep your project on track."})]}),(0,u.jsxs)("div",{className:"guidance-card",children:[(0,u.jsx)(l.TNq,{className:"guidance-icon"}),(0,u.jsx)("h3",{children:"Priority"}),(0,u.jsx)("p",{children:"Choose the appropriate priority level to help team members focus on what matters most."})]})]}),"admin"===s&&(0,u.jsxs)("div",{className:"admin-guidance",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)(l.M5n,{})," Admin Features"]}),(0,u.jsxs)("ul",{children:[(0,u.jsxs)("li",{children:[(0,u.jsx)(l.NPy,{})," Assign tasks to team members"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)(l.A7C,{})," Create task groups for better organization"]}),(0,u.jsxs)("li",{children:[(0,u.jsx)(l.jie,{})," Add detailed notes and instructions"]})]})]})]}),(0,u.jsx)(d.A,{className:"newTask-form",children:(0,u.jsxs)("form",{onSubmit:"admin"===s?async a=>{if(a.preventDefault(),"admin"===s&&(!N||0===y.length))throw new Error("Group name and at least one assigned user are required for admin tasks");try{let a;"admin"===s&&(a={title:C.inputs.title.value,description:C.inputs.description.value,priority:C.inputs.priority.value,dueDate:C.inputs.dueDate.value,timeline:C.inputs.timeline.value,notes:C.inputs.notes.value,role:s,groupName:N,assignedUsers:y}),await I("http://localhost:5001/api/tasks/admin","POST",JSON.stringify(a),{"Content-Type":"application/json",Authorization:"Bearer "+e.token}),k("/user/:uid")}catch(V){}}:async a=>{a.preventDefault();try{const a={title:C.inputs.title.value,description:C.inputs.description.value,priority:C.inputs.priority.value,dueDate:C.inputs.dueDate.value,timeline:C.inputs.timeline.value,notes:C.inputs.notes.value,role:s};await I("http://localhost:5001/api/tasks/member","POST",JSON.stringify(a),{"Content-Type":"application/json",Authorization:"Bearer "+e.token}),k("/user/:uid")}catch(V){console.error(V)}},children:[w&&(0,u.jsx)(j.A,{}),(0,u.jsxs)("div",{className:"form-section role-selector",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)(l.x$1,{})," Select Your Role"]}),(0,u.jsx)(m,{inputOptions:[{id:"op4",label:"Admin",value:"admin",name:"radio1",className:"admin"},{id:"op5",label:"Member",value:"member",name:"radio1",className:"member"}],optionsName:"Role",onClick:e=>{a(e),T("role",e,!0),"member"===e&&(g(""),f([]))}})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)(l.XOj,{})," Task Information"]}),(0,u.jsx)(n.A,{id:"title",element:"input",label:"Title",type:"text",errorText:"Please enter a title.",validators:[(0,o.B_)()],onInput:T,placeholder:"Enter task title"}),(0,u.jsx)(n.A,{id:"description",element:"textarea",label:"Description",errorText:"Please enter a valid description (at least 6 characters).",validators:[(0,o.Ik)(6)],onInput:T,placeholder:"Describe the task in detail"})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)(l.gUT,{})," Priority & Timeline"]}),(0,u.jsx)(m,{inputOptions:[{id:"op1",label:"Low",value:"low",name:"radio",className:"low"},{id:"op2",label:"Medium",value:"medium",name:"radio",className:"medium"},{id:"op3",label:"High",value:"high",name:"radio",className:"high"}],optionsName:"Priority",onClick:e=>T("priority",e,!!e)}),(0,u.jsx)(n.A,{id:"dueDate",element:"input",label:"Due Date",type:"date",errorText:"Please enter a date.",validators:[(0,o.B_)()],onInput:T}),(0,u.jsx)(n.A,{id:"timeline",element:"input",label:"Timeline",type:"text",errorText:"Please enter a timeline.",validators:[(0,o.B_)()],onInput:T,placeholder:"e.g., 2 weeks, 1 month"})]}),(0,u.jsxs)("div",{className:"form-section",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)(l.kkc,{})," Additional Information"]}),(0,u.jsx)(n.A,{id:"notes",element:"textarea",label:"Notes",errorText:"Please enter notes (at least 5 characters).",validators:[(0,o.Ik)(5)],onInput:T,placeholder:"Add any additional notes or instructions"})]}),"admin"===s&&(0,u.jsxs)("div",{className:"form-section admin-section",children:[(0,u.jsxs)("h3",{children:[(0,u.jsx)(l.YXz,{})," Team Assignment"]}),(0,u.jsx)(n.A,{id:"groupName",element:"input",label:"Group Name",type:"text",value:N,errorText:"Please enter a group name.",validators:[(0,o.B_)()],onInput:(e,s,a)=>g(s),placeholder:"Enter group name"}),(0,u.jsxs)("div",{className:"user-selector-container",children:[(0,u.jsx)(p,{users:A,selectedUsers:y,onSelectUsers:f,label:"Assign to Users",multiple:!0}),y.length>0&&(0,u.jsx)("div",{className:"selected-users",children:y.map((e=>(0,u.jsxs)("div",{className:"selected-user",children:[(0,u.jsx)("span",{children:e.name}),(0,u.jsx)("button",{onClick:()=>f((s=>s.filter((s=>s.id!==e.id)))),children:"\xd7"})]},e.id)))})]})]}),(0,u.jsx)(r.A,{type:"submit",disabled:!C.isValid||"admin"===s&&(!N||0===y.length),children:"Create Task"})]})})]})})]})}},805:(e,s,a)=>{a.d(s,{m:()=>n});var i=a(555),t=a(43);const l=(e,s)=>{switch(s.type){case"INPUT_CHANGE":let a=!0;for(const i in e.inputs)e.inputs[i]&&(a=i===s.inputId?a&&s.isValid:a&&e.inputs[i].isValid);return(0,i.A)((0,i.A)({},e),{},{inputs:(0,i.A)((0,i.A)({},e.inputs),{},{[s.inputId]:{value:s.value,isValid:s.isValid}}),isValid:a});case"SET_DATA":return{inputs:s.inputs,isValid:s.formIsValid};default:return e}},n=(e,s)=>{const[a,i]=(0,t.useReducer)(l,{inputs:e,isValid:s});return[a,(0,t.useCallback)(((e,s,a)=>{i({type:"INPUT_CHANGE",value:s,isValid:a,inputId:e})}),[]),(0,t.useCallback)(((e,s)=>{i({type:"SET_DATA",inputs:e,formIsValid:s})}),[])]}},820:(e,s,a)=>{a.d(s,{A:()=>d});var i=a(555),t=a(43),l=a(962),n=a(579);const r=(e,s)=>{switch(s.type){case"CHANGE":return(0,i.A)((0,i.A)({},e),{},{value:s.val,isValid:(0,l.tf)(s.val,s.isValid)});case"TOUCH":return(0,i.A)((0,i.A)({},e),{},{isTouch:!0});case"RADIO_CHANGE":return(0,i.A)((0,i.A)({},e),{},{value:s.val,isValid:(0,l.tf)(s.val,(0,l.B_)())});default:return e}},d=e=>{const[s,a]=(0,t.useReducer)(r,{value:e.initialValue||"",isTouch:!1,isValid:e.initialValid||!1}),{id:i,onInput:l}=e,{value:d,isValid:o}=s;(0,t.useEffect)((()=>{"function"===typeof l&&l(i,d,o)}),[i,d,o,l]);const c=s=>{a({type:"CHANGE",val:s.target.value,validators:e.validators})},u=()=>{a({type:"TOUCH"})},m=s=>s.map((s=>(0,n.jsxs)("label",{className:s.className,children:[(0,n.jsx)("input",{type:"radio",name:s.id,value:s.value,checked:d===s.value,onChange:()=>{return e=s.value,void a({type:"RADIO_CHANGE",value:e});var e},onBlur:u}),(0,n.jsx)("span",{className:e.span,children:s.label})]},s.value))),p="input"===e.element?(0,n.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:c,onBlur:u,value:s.value}):"radio"===e.element?(0,n.jsxs)("div",{className:e.className,children:[(0,n.jsx)("label",{className:"radio-inputs__title",children:e.label}),(0,n.jsx)("hr",{}),()=>m(e.radioOptions)]}):(0,n.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:c,onBlur:u,value:s.value});return(0,n.jsxs)("div",{className:"form-control ".concat(!s.isValid&&s.isTouch&&"form-control--invalid"),children:["radio"!==e.element&&(0,n.jsx)("label",{htmlFor:e.id,children:e.label}),p,!s.isValid&&s.isTouch&&(0,n.jsx)("p",{children:e.errorText})]})}},837:(e,s,a)=>{a.d(s,{A:()=>t});a(43);var i=a(579);const t=e=>(0,i.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})},962:(e,s,a)=>{a.d(s,{B_:()=>r,Ik:()=>d,i$:()=>o,tf:()=>c});const i="REQUIRE",t="MINLENGTH",l="MAXLENGTH",n="EMAIL",r=()=>({type:i}),d=e=>({type:t,val:e}),o=()=>({type:n}),c=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=!0;for(const r of s)r.type===i&&(a=a&&e.trim().length>0),r.type===t&&(a=a&&e.trim().length>=r.val),r.type===l&&(a=a&&e.trim().length<=r.val),"MIN"===r.type&&(a=a&&+e>=r.val),"MAX"===r.type&&(a=a&&+e<=r.val),r.type===n&&(a=a&&/^\S+@\S+\.\S+$/.test(e));return a}}}]);
//# sourceMappingURL=34.2fc5c00e.chunk.js.map